<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç…é¤…ä¿  - èªéŸ³è­˜åˆ¥åŠŸèƒ½æ¸¬è©¦</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: linear-gradient(135deg, #4caf50, #2196f3);
            border-radius: 20px;
            color: white;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .status-card {
            background: white;
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            border: 1px solid #e0e0e0;
            transition: all 0.3s ease;
            position: relative;
        }

        .status-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
        }

        .status-card h3 {
            color: #2196f3;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .status-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .status-value.supported {
            color: #4caf50;
        }

        .status-value.not-supported {
            color: #f44336;
        }

        .status-value.listening {
            color: #ff9800;
            animation: pulse 1.5s infinite;
        }

        .status-label {
            color: #666;
            font-size: 0.9rem;
        }

        .control-panel {
            background: white;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }

        .control-panel h3 {
            color: #2196f3;
            margin-bottom: 15px;
        }

        .control-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .btn {
            background: #2196f3;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            background: #1976d2;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-primary {
            background: #4caf50;
        }

        .btn-primary:hover {
            background: #388e3c;
        }

        .btn-secondary {
            background: #ff9800;
        }

        .btn-secondary:hover {
            background: #f57c00;
        }

        .btn-danger {
            background: #f44336;
        }

        .btn-danger:hover {
            background: #d32f2f;
        }

        .btn.listening {
            background: #ff9800;
            animation: button-pulse 1.5s infinite;
        }

        .audio-level {
            margin: 15px 0;
        }

        .audio-level-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }

        .audio-level-fill {
            height: 100%;
            background: linear-gradient(90deg, #4caf50 0%, #ffeb3b 50%, #f44336 100%);
            border-radius: 4px;
            transition: width 0.1s ease;
            position: relative;
        }

        .audio-level-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
            animation: audio-sweep 1.5s infinite;
        }

        .timer-display {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }

        .timer-display::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: timer-rotate 10s linear infinite;
        }

        .timer-time {
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 4rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }

        .timer-progress {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.3);
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
            position: relative;
            z-index: 1;
        }

        .timer-progress-fill {
            height: 100%;
            background: white;
            border-radius: 4px;
            transition: width 1s ease;
        }

        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            position: relative;
            z-index: 1;
        }

        .timer-controls .btn {
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.3);
        }

        .timer-controls .btn:hover {
            background: rgba(255,255,255,0.3);
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .test-card {
            background: white;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .test-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
        }

        .test-card h4 {
            color: #2196f3;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .recognition-results {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 10px;
        }

        .result-item {
            padding: 8px;
            margin: 4px 0;
            border-radius: 6px;
            border-left: 4px solid #2196f3;
            background: rgba(33, 150, 243, 0.05);
            transition: all 0.3s ease;
        }

        .result-item:hover {
            background: rgba(33, 150, 243, 0.1);
        }

        .result-item.command {
            border-left-color: #4caf50;
            background: rgba(76, 175, 80, 0.05);
        }

        .result-item.command:hover {
            background: rgba(76, 175, 80, 0.1);
        }

        .result-item.unrecognized {
            border-left-color: #ff9800;
            background: rgba(255, 152, 0, 0.05);
        }

        .result-transcript {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .result-meta {
            font-size: 0.8rem;
            color: #666;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .confidence-badge {
            background: #e0e0e0;
            color: #333;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .confidence-badge.high {
            background: #4caf50;
            color: white;
        }

        .confidence-badge.medium {
            background: #ff9800;
            color: white;
        }

        .confidence-badge.low {
            background: #f44336;
            color: white;
        }

        .command-badge {
            background: #4caf50;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .voice-wave {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 3px;
            height: 40px;
            margin: 10px 0;
        }

        .voice-wave-bar {
            width: 4px;
            background: linear-gradient(to top, #2196f3, #42a5f5);
            border-radius: 2px;
            animation: voice-wave 1.5s infinite ease-in-out;
        }

        .voice-wave-bar:nth-child(2) { animation-delay: 0.1s; }
        .voice-wave-bar:nth-child(3) { animation-delay: 0.2s; }
        .voice-wave-bar:nth-child(4) { animation-delay: 0.3s; }
        .voice-wave-bar:nth-child(5) { animation-delay: 0.4s; }

        .test-results {
            background: white;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }

        .test-results h3 {
            color: #2196f3;
            margin-bottom: 15px;
        }

        .progress-ring {
            width: 60px;
            height: 60px;
            position: relative;
            display: inline-block;
            margin-right: 15px;
        }

        .progress-ring svg {
            width: 100%;
            height: 100%;
            transform: rotate(-90deg);
        }

        .progress-ring circle {
            fill: transparent;
            stroke-width: 4;
        }

        .progress-ring .bg {
            stroke: #e0e0e0;
        }

        .progress-ring .progress {
            stroke: #2196f3;
            stroke-linecap: round;
            stroke-dasharray: 157;
            stroke-dashoffset: 157;
            transition: stroke-dashoffset 0.5s ease;
        }

        .result-list {
            margin-top: 15px;
        }

        .result-list-item {
            display: flex;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .result-list-item:last-child {
            border-bottom: none;
        }

        .result-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8rem;
        }

        .result-icon.pass {
            background: #4caf50;
            color: white;
        }

        .result-icon.fail {
            background: #f44336;
            color: white;
        }

        .result-icon.pending {
            background: #ff9800;
            color: white;
        }

        .help-panel {
            background: white;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }

        .help-panel h3 {
            color: #2196f3;
            margin-bottom: 15px;
        }

        .command-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .command-group {
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
        }

        .command-group h4 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .command-group ul {
            list-style: none;
            padding: 0;
        }

        .command-group li {
            padding: 4px 0;
            color: #666;
            font-size: 0.9rem;
        }

        .command-group li code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
            color: #2196f3;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 12px 40px rgba(0,0,0,0.3);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }

        @keyframes button-pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes voice-wave {
            0%, 40%, 100% { height: 8px; opacity: 0.3; }
            20% { height: 32px; opacity: 1; }
        }

        @keyframes audio-sweep {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        @keyframes timer-rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .status-grid,
            .test-grid {
                grid-template-columns: 1fr;
            }
            
            .control-buttons {
                flex-direction: column;
            }
            
            .timer-time {
                font-size: 2.5rem;
            }
            
            .command-list {
                grid-template-columns: 1fr;
            }
        }

        .live-indicator {
            width: 8px;
            height: 8px;
            background: #4caf50;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
            animation: blink 1.5s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¤ èªéŸ³è­˜åˆ¥åŠŸèƒ½æ¸¬è©¦</h1>
            <p>é©—è­‰èªéŸ³è­˜åˆ¥åŠŸèƒ½ï¼ŒåŒ…æ‹¬èªéŸ³å‘½ä»¤çš„è­˜åˆ¥ã€èªéŸ³æ§åˆ¶è¨ˆæ™‚å™¨çš„åŠŸèƒ½ã€‚æ¸¬è©¦ä¸åŒèªéŸ³ç’°å¢ƒä¸‹çš„è­˜åˆ¥æº–ç¢ºæ€§ã€‚</p>
        </div>

        <!-- åŠŸèƒ½ç‹€æ…‹æ¦‚è¦½ -->
        <div class="status-grid">
            <div class="status-card">
                <h3>ğŸ¤ ç€è¦½å™¨æ”¯æŒ</h3>
                <div class="status-value" id="supportStatus">æª¢æ¸¬ä¸­</div>
                <div class="status-label">èªéŸ³è­˜åˆ¥APIæ”¯æŒ</div>
            </div>
            
            <div class="status-card">
                <h3>ğŸ”Š éº¥å…‹é¢¨æ¬Šé™</h3>
                <div class="status-value" id="permissionStatus">æª¢æ¸¬ä¸­</div>
                <div class="status-label">éŸ³é »è¼¸å…¥æ¬Šé™</div>
            </div>
            
            <div class="status-card">
                <h3>ğŸ‘‚ è­˜åˆ¥ç‹€æ…‹</h3>
                <div class="status-value" id="listeningStatus">æœªç›£è½</div>
                <div class="status-label">ç•¶å‰è­˜åˆ¥ç‹€æ…‹</div>
            </div>
            
            <div class="status-card">
                <h3>ğŸ’¬ è­˜åˆ¥å‘½ä»¤</h3>
                <div class="status-value" id="commandCount">0</div>
                <div class="status-label">å·²è­˜åˆ¥èªéŸ³å‘½ä»¤</div>
            </div>
        </div>

        <!-- æ§åˆ¶é¢æ¿ -->
        <div class="control-panel">
            <h3>æ¸¬è©¦æ§åˆ¶</h3>
            <div class="control-buttons">
                <button class="btn btn-primary" id="startBtn" onclick="toggleRecognition()">
                    ğŸ¤ é–‹å§‹è­˜åˆ¥
                </button>
                <button class="btn" onclick="runBasicTest()">
                    ğŸ”¤ åŸºç¤æ¸¬è©¦
                </button>
                <button class="btn" onclick="runCommandTest()">
                    ğŸ¯ å‘½ä»¤æ¸¬è©¦
                </button>
                <button class="btn" onclick="runEnvironmentalTest()">
                    ğŸŒ ç’°å¢ƒæ¸¬è©¦
                </button>
                <button class="btn btn-secondary" onclick="showHelp()">
                    â“ èªéŸ³å‘½ä»¤
                </button>
            </div>
            
            <div class="audio-level" id="audioLevelContainer" style="display: none;">
                <label>éŸ³é »é›»å¹³:</label>
                <div class="audio-level-bar">
                    <div class="audio-level-fill" id="audioLevelFill" style="width: 0%"></div>
                </div>
            </div>
            
            <div style="margin-top: 15px; padding: 10px; background: rgba(33, 150, 243, 0.1); border-radius: 8px;">
                <div class="live-indicator"></div>
                <span>èªè¨€: <strong>ä¸­æ–‡ (ç¹é«”)</strong></span>
                <span style="margin-left: 15px;">é€£çºŒè­˜åˆ¥: <strong>å¦</strong></span>
                <span style="margin-left: 15px;">ä¸­é–“çµæœ: <strong>æ˜¯</strong></span>
            </div>
        </div>

        <!-- æ¨¡æ“¬è¨ˆæ™‚å™¨ -->
        <div class="timer-display">
            <div class="timer-time" id="timerDisplay">00:20</div>
            <div class="timer-progress">
                <div class="timer-progress-fill" id="timerProgress" style="width: 0%"></div>
            </div>
            <div class="timer-controls">
                <button class="btn" onclick="handleVoiceCommand('start_timer')">â–¶ï¸ é–‹å§‹</button>
                <button class="btn" onclick="handleVoiceCommand('pause_timer')">â¸ï¸ æš«åœ</button>
                <button class="btn" onclick="handleVoiceCommand('stop_timer')">â¹ï¸ åœæ­¢</button>
                <button class="btn" onclick="handleVoiceCommand('restart_timer')">ğŸ”„ é‡å•Ÿ</button>
            </div>
        </div>

        <!-- èªéŸ³æ³¢å½¢é¡¯ç¤º -->
        <div id="voiceWaveContainer" style="display: none;">
            <div class="voice-wave">
                <div class="voice-wave-bar"></div>
                <div class="voice-wave-bar"></div>
                <div class="voice-wave-bar"></div>
                <div class="voice-wave-bar"></div>
                <div class="voice-wave-bar"></div>
            </div>
        </div>

        <!-- æ¸¬è©¦å€åŸŸ -->
        <div class="test-grid">
            <!-- èªéŸ³è­˜åˆ¥çµæœ -->
            <div class="test-card">
                <h4>ğŸ”¤ èªéŸ³è­˜åˆ¥çµæœ</h4>
                <div class="recognition-results" id="recognitionResults">
                    <div style="text-align: center; color: #666; padding: 20px;">
                        é»æ“Š"é–‹å§‹è­˜åˆ¥"ä¸¦èªªå‡ºä»»ä½•è©±èª
                    </div>
                </div>
                <div style="margin-top: 10px; text-align: center;">
                    <button class="btn" onclick="clearResults()" style="font-size: 0.8rem; padding: 6px 12px;">
                        æ¸…é™¤è¨˜éŒ„
                    </button>
                </div>
            </div>

            <!-- èªéŸ³å‘½ä»¤è¨˜éŒ„ -->
            <div class="test-card">
                <h4>ğŸ¯ è­˜åˆ¥çš„èªéŸ³å‘½ä»¤</h4>
                <div class="recognition-results" id="commandResults">
                    <div style="text-align: center; color: #666; padding: 20px;">
                        èªªå‡ºèªéŸ³å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š"é–‹å§‹è¨ˆæ™‚" æˆ– "è¨­ç½®30ç§’"
                    </div>
                </div>
                <div style="margin-top: 10px; text-align: center;">
                    <button class="btn" onclick="clearCommands()" style="font-size: 0.8rem; padding: 6px 12px;">
                        æ¸…é™¤å‘½ä»¤
                    </button>
                </div>
            </div>
        </div>

        <!-- æ¸¬è©¦çµæœ -->
        <div class="test-results">
            <h3>ğŸ“Š æ¸¬è©¦çµæœ</h3>
            <div style="display: flex; align-items: center; margin-bottom: 15px;">
                <div class="progress-ring">
                    <svg>
                        <circle class="bg" cx="30" cy="30" r="25"></circle>
                        <circle class="progress" cx="30" cy="30" r="25" id="progressCircle"></circle>
                    </svg>
                </div>
                <div>
                    <div style="font-size: 1.2rem; font-weight: bold;" id="testProgress">0/4 é€šé</div>
                    <div style="color: #666; font-size: 0.9rem;">æ¸¬è©¦å®Œæˆåº¦</div>
                </div>
            </div>
            
            <div class="result-list">
                <div class="result-list-item">
                    <div class="result-icon pending" id="basicIcon">?</div>
                    <div>
                        <div style="font-weight: 600;">åŸºç¤èªéŸ³è­˜åˆ¥</div>
                        <div style="font-size: 0.8rem; color: #666;">èªéŸ³è½‰æ–‡å­—åŠŸèƒ½</div>
                    </div>
                </div>
                
                <div class="result-list-item">
                    <div class="result-icon pending" id="commandIcon">?</div>
                    <div>
                        <div style="font-weight: 600;">å‘½ä»¤è­˜åˆ¥</div>
                        <div style="font-size: 0.8rem; color: #666;">èªéŸ³å‘½ä»¤è§£æ</div>
                    </div>
                </div>
                
                <div class="result-list-item">
                    <div class="result-icon pending" id="timerIcon">?</div>
                    <div>
                        <div style="font-weight: 600;">è¨ˆæ™‚å™¨æ§åˆ¶</div>
                        <div style="font-size: 0.8rem; color: #666;">èªéŸ³æ§åˆ¶è¨ˆæ™‚å™¨</div>
                    </div>
                </div>
                
                <div class="result-list-item">
                    <div class="result-icon pending" id="environmentIcon">?</div>
                    <div>
                        <div style="font-weight: 600;">ç’°å¢ƒé©æ‡‰æ€§</div>
                        <div style="font-size: 0.8rem; color: #666;">ä¸åŒç’°å¢ƒè­˜åˆ¥æº–ç¢ºæ€§</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- èªéŸ³å‘½ä»¤å¹«åŠ© -->
        <div class="help-panel">
            <h3>ğŸ“– æ”¯æŒçš„èªéŸ³å‘½ä»¤</h3>
            <div class="command-list">
                <div class="command-group">
                    <h4>â±ï¸ è¨ˆæ™‚å™¨æ§åˆ¶</h4>
                    <ul>
                        <li><code>"é–‹å§‹è¨ˆæ™‚"</code> - å•Ÿå‹•è¨ˆæ™‚å™¨</li>
                        <li><code>"åœæ­¢è¨ˆæ™‚"</code> - åœæ­¢è¨ˆæ™‚å™¨</li>
                        <li><code>"æš«åœ"</code> - æš«åœ/æ¢å¾©è¨ˆæ™‚å™¨</li>
                        <li><code>"é‡æ–°é–‹å§‹"</code> - é‡æ–°å•Ÿå‹•è¨ˆæ™‚å™¨</li>
                    </ul>
                </div>
                
                <div class="command-group">
                    <h4>â° æ™‚é–“è¨­ç½®</h4>
                    <ul>
                        <li><code>"è¨­ç½®30ç§’"</code> - è¨­ç½®30ç§’è¨ˆæ™‚</li>
                        <li><code>"2åˆ†é˜"</code> - è¨­ç½®2åˆ†é˜è¨ˆæ™‚</li>
                        <li><code>"è¨­ç½®1åˆ†é˜"</code> - è¨­ç½®1åˆ†é˜è¨ˆæ™‚</li>
                        <li><code>"20ç§’è¨ˆæ™‚"</code> - è¨­ç½®20ç§’è¨ˆæ™‚</li>
                    </ul>
                </div>
                
                <div class="command-group">
                    <h4>ğŸ”Š èªéŸ³æ§åˆ¶</h4>
                    <ul>
                        <li><code>"é–‹å•ŸèªéŸ³æé†’"</code> - å•Ÿç”¨èªéŸ³</li>
                        <li><code>"é—œé–‰èªéŸ³æé†’"</code> - åœç”¨èªéŸ³</li>
                        <li><code>"éŸ³é‡å¤§"</code> - å¢åŠ éŸ³é‡</li>
                        <li><code>"éŸ³é‡å°"</code> - é™ä½éŸ³é‡</li>
                    </ul>
                </div>
                
                <div class="command-group">
                    <h4>ğŸ› ï¸ å…¶ä»–å‘½ä»¤</h4>
                    <ul>
                        <li><code>"å¹«åŠ©"</code> - é¡¯ç¤ºå¹«åŠ©ä¿¡æ¯</li>
                        <li><code>"ç¢ºèª"</code> - ç¢ºèªæ“ä½œ</li>
                        <li><code>"å–æ¶ˆ"</code> - å–æ¶ˆæ“ä½œ</li>
                        <li><code>"æ¸…é™¤æ­·å²"</code> - æ¸…é™¤è¨˜éŒ„</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- å¹«åŠ©æ¨¡æ…‹æ¡† -->
    <div class="modal" id="helpModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>èªéŸ³è­˜åˆ¥æ¸¬è©¦æŒ‡å—</h3>
                <button class="modal-close" onclick="closeHelp()">&times;</button>
            </div>
            <div>
                <h4>ğŸ¯ æ¸¬è©¦ç›®æ¨™ï¼š</h4>
                <ul style="margin: 10px 0; padding-left: 20px;">
                    <li>é©—è­‰ç€è¦½å™¨èªéŸ³è­˜åˆ¥APIæ”¯æŒ</li>
                    <li>æ¸¬è©¦èªéŸ³è½‰æ–‡å­—çš„æº–ç¢ºæ€§</li>
                    <li>é©—è­‰èªéŸ³å‘½ä»¤è­˜åˆ¥åŠŸèƒ½</li>
                    <li>æ¸¬è©¦èªéŸ³æ§åˆ¶è¨ˆæ™‚å™¨åŠŸèƒ½</li>
                    <li>è©•ä¼°ä¸åŒç’°å¢ƒä¸‹çš„è­˜åˆ¥æ•ˆæœ</li>
                </ul>
                
                <h4>ğŸ“‹ æ¸¬è©¦æ­¥é©Ÿï¼š</h4>
                <ol style="margin: 10px 0; padding-left: 20px;">
                    <li>é»æ“Š"é–‹å§‹è­˜åˆ¥"å…è¨±éº¥å…‹é¢¨æ¬Šé™</li>
                    <li>èªªå‡ºä»»ä½•è©±èªæ¸¬è©¦åŸºç¤è­˜åˆ¥</li>
                    <li>å˜—è©¦èªéŸ³å‘½ä»¤å¦‚"é–‹å§‹è¨ˆæ™‚"</li>
                    <li>è§€å¯Ÿè¨ˆæ™‚å™¨éŸ¿æ‡‰èªéŸ³æ§åˆ¶</li>
                    <li>åœ¨ä¸åŒå™ªéŸ³ç’°å¢ƒä¸‹æ¸¬è©¦</li>
                </ol>
                
                <h4>âš ï¸ æ³¨æ„äº‹é …ï¼š</h4>
                <ul style="margin: 10px 0; padding-left: 20px;">
                    <li>éœ€è¦å…è¨±éº¥å…‹é¢¨è¨ªå•æ¬Šé™</li>
                    <li>å»ºè­°åœ¨å®‰éœç’°å¢ƒä¸‹æ¸¬è©¦</li>
                    <li>èªªè©±æ¸…æ™°ï¼Œèªé€Ÿé©ä¸­</li>
                    <li>æ”¯æŒä¸­æ–‡ï¼ˆç¹é«”ï¼‰è­˜åˆ¥</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // èªéŸ³è­˜åˆ¥ç®¡ç†å™¨
        class MockSpeechRecognitionManager {
            constructor() {
                this.recognition = null;
                this.isSupported = false;
                this.isListening = false;
                this.hasPermission = false;
                
                this.initializeRecognition();
                this.setupCommandPatterns();
            }
            
            initializeRecognition() {
                const SpeechRecognition = window.SpeechRecognition || 
                                         window.webkitSpeechRecognition ||
                                         window.mozSpeechRecognition ||
                                         window.msSpeechRecognition;
                
                if (!SpeechRecognition) {
                    this.isSupported = false;
                    return;
                }
                
                this.isSupported = true;
                this.recognition = new SpeechRecognition();
                
                this.recognition.lang = 'zh-TW';
                this.recognition.continuous = false;
                this.recognition.interimResults = true;
                this.recognition.maxAlternatives = 3;
                
                this.setupEventListeners();
            }
            
            setupEventListeners() {
                if (!this.recognition) return;
                
                this.recognition.onstart = () => {
                    this.isListening = true;
                    this.onStart();
                };
                
                this.recognition.onend = () => {
                    this.isListening = false;
                    this.onEnd();
                };
                
                this.recognition.onresult = (event) => {
                    this.onResult(event);
                };
                
                this.recognition.onerror = (event) => {
                    this.onError(event);
                };
                
                this.recognition.onaudiostart = () => {
                    this.onAudioStart();
                };
                
                this.recognition.onaudioend = () => {
                    this.onAudioEnd();
                };
            }
            
            setupCommandPatterns() {
                this.commandPatterns = [
                    { pattern: /^(é–‹å§‹|å•Ÿå‹•|start)\s*(è¨ˆæ™‚|timer)?$/i, action: 'start_timer' },
                    { pattern: /^(åœæ­¢|çµæŸ|stop)\s*(è¨ˆæ™‚|timer)?$/i, action: 'stop_timer' },
                    { pattern: /^(æš«åœ|pause)\s*(è¨ˆæ™‚|timer)?$/i, action: 'pause_timer' },
                    { pattern: /^(é‡æ–°é–‹å§‹|restart|é‡å•Ÿ)\s*(è¨ˆæ™‚|timer)?$/i, action: 'restart_timer' },
                    { pattern: /^(è¨­ç½®|set)\s*(\d+)\s*(ç§’|second|seconds)$/i, action: 'set_duration', extract: 'seconds' },
                    { pattern: /^(è¨­ç½®|set)\s*(\d+)\s*(åˆ†é˜|minute|minutes)$/i, action: 'set_duration', extract: 'minutes' },
                    { pattern: /^(\d+)\s*(ç§’|second|seconds)\s*(è¨ˆæ™‚|timer)?$/i, action: 'set_duration', extract: 'seconds' },
                    { pattern: /^(é–‹å•Ÿ|å•Ÿç”¨|enable)\s*(èªéŸ³|voice)\s*(æé†’|reminder)?$/i, action: 'enable_voice' },
                    { pattern: /^(é—œé–‰|åœç”¨|disable)\s*(èªéŸ³|voice)\s*(æé†’|reminder)?$/i, action: 'disable_voice' },
                    { pattern: /^(éŸ³é‡|volume)\s*(å¤§|é«˜|loud|high)$/i, action: 'volume_up' },
                    { pattern: /^(éŸ³é‡|volume)\s*(å°|ä½|quiet|low)$/i, action: 'volume_down' },
                    { pattern: /^(å¹«åŠ©|help|èªªæ˜)$/i, action: 'show_help' },
                    { pattern: /^(ç¢ºèª|ç¢ºå®š|ok|yes|å¥½)$/i, action: 'confirm' },
                    { pattern: /^(å–æ¶ˆ|cancel|no|ä¸)$/i, action: 'cancel' }
                ];
            }
            
            async startListening() {
                if (!this.isSupported) {
                    throw new Error('èªéŸ³è­˜åˆ¥ä¸æ”¯æŒ');
                }
                
                if (!this.hasPermission) {
                    // æ¸¬è©¦éº¥å…‹é¢¨æ¬Šé™
                    try {
                        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                        this.hasPermission = true;
                        stream.getTracks().forEach(track => track.stop());
                    } catch (error) {
                        throw new Error('éº¥å…‹é¢¨æ¬Šé™è¢«æ‹’çµ•');
                    }
                }
                
                this.recognition.start();
            }
            
            stopListening() {
                if (this.recognition && this.isListening) {
                    this.recognition.stop();
                }
            }
            
            onStart() {
                console.log('Speech recognition started');
            }
            
            onEnd() {
                console.log('Speech recognition ended');
            }
            
            onResult(event) {
                for (let i = event.resultIndex; i < event.results.length; i++) {
                    const result = event.results[i];
                    const transcript = result[0].transcript;
                    const confidence = result[0].confidence;
                    const isFinal = result.isFinal;
                    
                    const recognitionResult = {
                        transcript,
                        confidence,
                        isFinal,
                        alternatives: Array.from(result).map(alt => ({
                            transcript: alt.transcript,
                            confidence: alt.confidence
                        }))
                    };
                    
                    addRecognitionResult(recognitionResult);
                    
                    if (isFinal) {
                        this.processCommand(transcript, confidence);
                    }
                }
            }
            
            onError(event) {
                console.error('Speech recognition error:', event.error);
                showError(`èªéŸ³è­˜åˆ¥éŒ¯èª¤: ${event.error}`);
            }
            
            onAudioStart() {
                simulateAudioLevel();
                showVoiceWave(true);
            }
            
            onAudioEnd() {
                showVoiceWave(false);
                document.getElementById('audioLevelFill').style.width = '0%';
            }
            
            processCommand(transcript, confidence) {
                const trimmed = transcript.trim();
                
                for (const pattern of this.commandPatterns) {
                    const match = trimmed.match(pattern.pattern);
                    if (match) {
                        const command = {
                            command: trimmed,
                            action: pattern.action,
                            confidence,
                            timestamp: Date.now()
                        };
                        
                        if (pattern.extract === 'seconds' && match[2]) {
                            command.parameters = { duration: parseInt(match[2]) };
                        } else if (pattern.extract === 'minutes' && match[2]) {
                            command.parameters = { duration: parseInt(match[2]) * 60 };
                        }
                        
                        addCommandResult(command);
                        handleVoiceCommand(command.action, command.parameters);
                        return;
                    }
                }
                
                // æœªè­˜åˆ¥çš„èªéŸ³
                console.log('Unrecognized speech:', trimmed);
            }
            
            async testRecognition() {
                const errors = [];
                let supported = this.isSupported;
                let permissions = false;
                
                if (!supported) {
                    errors.push('ç€è¦½å™¨ä¸æ”¯æŒèªéŸ³è­˜åˆ¥API');
                    return { supported, permissions, errors };
                }
                
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                    permissions = true;
                    stream.getTracks().forEach(track => track.stop());
                } catch (error) {
                    permissions = false;
                    errors.push(`éº¥å…‹é¢¨æ¬Šé™éŒ¯èª¤: ${error.message}`);
                }
                
                return { supported, permissions, errors };
            }
        }
        
        // å…¨å±€è®Šé‡
        let speechManager;
        let mockTimer = {
            isRunning: false,
            duration: 20,
            remaining: 20,
            paused: false,
            interval: null
        };
        let testResults = {
            basicRecognition: false,
            commandRecognition: false,
            timerControl: false,
            environmentalTest: false
        };
        let commandCount = 0;
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', async () => {
            speechManager = new MockSpeechRecognitionManager();
            
            // æ¸¬è©¦èªéŸ³è­˜åˆ¥æ”¯æŒ
            const testResult = await speechManager.testRecognition();
            
            // æ›´æ–°ç‹€æ…‹é¡¯ç¤º
            updateSupportStatus(testResult.supported);
            updatePermissionStatus(testResult.permissions);
            
            if (testResult.errors.length > 0) {
                showError(testResult.errors.join('; '));
            }
            
            updateTimerDisplay();
            updateTestProgress();
            
            log('èªéŸ³è­˜åˆ¥æ¸¬è©¦åˆå§‹åŒ–å®Œæˆ');
        });
        
        // åˆ‡æ›èªéŸ³è­˜åˆ¥
        async function toggleRecognition() {
            if (speechManager.isListening) {
                speechManager.stopListening();
                updateRecognitionButton(false);
            } else {
                try {
                    await speechManager.startListening();
                    updateRecognitionButton(true);
                } catch (error) {
                    showError(error.message);
                }
            }
        }
        
        // é‹è¡ŒåŸºç¤æ¸¬è©¦
        async function runBasicTest() {
            try {
                await speechManager.startListening();
                showSuccess('è«‹èªªå‡ºä»»ä½•è©±èªä¾†æ¸¬è©¦åŸºç¤è­˜åˆ¥åŠŸèƒ½');
                
                setTimeout(() => {
                    speechManager.stopListening();
                }, 5000);
            } catch (error) {
                showError(error.message);
            }
        }
        
        // é‹è¡Œå‘½ä»¤æ¸¬è©¦
        async function runCommandTest() {
            try {
                await speechManager.startListening();
                showSuccess('è«‹èªªå‡ºèªéŸ³å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š"é–‹å§‹è¨ˆæ™‚" æˆ– "è¨­ç½®30ç§’"');
                
                setTimeout(() => {
                    speechManager.stopListening();
                }, 10000);
            } catch (error) {
                showError(error.message);
            }
        }
        
        // é‹è¡Œç’°å¢ƒæ¸¬è©¦
        function runEnvironmentalTest() {
            testResults.environmentalTest = true;
            updateTestProgress();
            showSuccess('ç’°å¢ƒæ¸¬è©¦å®Œæˆ - è«‹åœ¨ä¸åŒç’°å¢ƒï¼ˆå®‰éœ/å˜ˆé›œï¼‰ä¸‹æ¸¬è©¦èªéŸ³è­˜åˆ¥æº–ç¢ºæ€§');
        }
        
        // è™•ç†èªéŸ³å‘½ä»¤
        function handleVoiceCommand(action, parameters) {
            switch (action) {
                case 'start_timer':
                    mockTimer.isRunning = true;
                    mockTimer.paused = false;
                    startMockTimer();
                    showSuccess('è¨ˆæ™‚å™¨å·²å•Ÿå‹•');
                    testResults.timerControl = true;
                    break;
                    
                case 'stop_timer':
                    mockTimer.isRunning = false;
                    mockTimer.paused = false;
                    mockTimer.remaining = mockTimer.duration;
                    stopMockTimer();
                    showSuccess('è¨ˆæ™‚å™¨å·²åœæ­¢');
                    testResults.timerControl = true;
                    break;
                    
                case 'pause_timer':
                    mockTimer.paused = !mockTimer.paused;
                    showSuccess(`è¨ˆæ™‚å™¨å·²${mockTimer.paused ? 'æš«åœ' : 'æ¢å¾©'}`);
                    testResults.timerControl = true;
                    break;
                    
                case 'restart_timer':
                    mockTimer.isRunning = true;
                    mockTimer.paused = false;
                    mockTimer.remaining = mockTimer.duration;
                    startMockTimer();
                    showSuccess('è¨ˆæ™‚å™¨å·²é‡æ–°å•Ÿå‹•');
                    testResults.timerControl = true;
                    break;
                    
                case 'set_duration':
                    if (parameters?.duration) {
                        mockTimer.duration = parameters.duration;
                        mockTimer.remaining = parameters.duration;
                        mockTimer.isRunning = false;
                        mockTimer.paused = false;
                        stopMockTimer();
                        showSuccess(`è¨ˆæ™‚æ™‚é•·å·²è¨­ç½®ç‚º ${parameters.duration} ç§’`);
                        testResults.timerControl = true;
                    }
                    break;
                    
                case 'show_help':
                    showHelp();
                    showSuccess('å¹«åŠ©ä¿¡æ¯å·²é¡¯ç¤º');
                    break;
                    
                default:
                    showSuccess(`åŸ·è¡Œå‘½ä»¤: ${action}`);
            }
            
            updateTimerDisplay();
            updateTestProgress();
        }
        
        // å•Ÿå‹•æ¨¡æ“¬è¨ˆæ™‚å™¨
        function startMockTimer() {
            if (mockTimer.interval) {
                clearInterval(mockTimer.interval);
            }
            
            mockTimer.interval = setInterval(() => {
                if (!mockTimer.isRunning || mockTimer.paused || mockTimer.remaining <= 0) {
                    return;
                }
                
                mockTimer.remaining--;
                updateTimerDisplay();
                
                if (mockTimer.remaining <= 0) {
                    mockTimer.isRunning = false;
                    showSuccess('è¨ˆæ™‚å®Œæˆï¼');
                    clearInterval(mockTimer.interval);
                    mockTimer.interval = null;
                }
            }, 1000);
        }
        
        // åœæ­¢æ¨¡æ“¬è¨ˆæ™‚å™¨
        function stopMockTimer() {
            if (mockTimer.interval) {
                clearInterval(mockTimer.interval);
                mockTimer.interval = null;
            }
        }
        
        // æ›´æ–°è¨ˆæ™‚å™¨é¡¯ç¤º
        function updateTimerDisplay() {
            const minutes = Math.floor(mockTimer.remaining / 60);
            const seconds = mockTimer.remaining % 60;
            document.getElementById('timerDisplay').textContent = 
                `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
            
            const progress = ((mockTimer.duration - mockTimer.remaining) / mockTimer.duration) * 100;
            document.getElementById('timerProgress').style.width = `${progress}%`;
        }
        
        // æ·»åŠ è­˜åˆ¥çµæœ
        function addRecognitionResult(result) {
            const container = document.getElementById('recognitionResults');
            
            if (container.children.length === 1 && container.children[0].textContent.includes('é»æ“Š')) {
                container.innerHTML = '';
            }
            
            const item = document.createElement('div');
            item.className = 'result-item';
            
            const confidenceBadge = getConfidenceBadge(result.confidence);
            
            item.innerHTML = `
                <div class="result-transcript">${result.transcript}</div>
                <div class="result-meta">
                    <span>ç½®ä¿¡åº¦: ${confidenceBadge}</span>
                    <span>${result.isFinal ? 'æœ€çµ‚' : 'è‡¨æ™‚'}</span>
                    <span>æ™‚é–“: ${new Date().toLocaleTimeString()}</span>
                    ${result.alternatives.length > 1 ? `<span>æ›¿ä»£: ${result.alternatives.length - 1}</span>` : ''}
                </div>
            `;
            
            container.insertBefore(item, container.firstChild);
            
            // ä¿ç•™æœ€è¿‘20æ¢è¨˜éŒ„
            while (container.children.length > 20) {
                container.removeChild(container.lastChild);
            }
            
            if (result.isFinal) {
                testResults.basicRecognition = true;
                updateTestProgress();
            }
        }
        
        // æ·»åŠ å‘½ä»¤çµæœ
        function addCommandResult(command) {
            const container = document.getElementById('commandResults');
            
            if (container.children.length === 1 && container.children[0].textContent.includes('èªªå‡ºèªéŸ³å‘½ä»¤')) {
                container.innerHTML = '';
            }
            
            const item = document.createElement('div');
            item.className = 'result-item command';
            
            const confidenceBadge = getConfidenceBadge(command.confidence);
            
            item.innerHTML = `
                <div class="result-transcript">${command.command}</div>
                <div class="result-meta">
                    <span class="command-badge">${command.action}</span>
                    <span>ç½®ä¿¡åº¦: ${confidenceBadge}</span>
                    <span>æ™‚é–“: ${new Date().toLocaleTimeString()}</span>
                    ${command.parameters ? `<span>åƒæ•¸: ${JSON.stringify(command.parameters)}</span>` : ''}
                </div>
            `;
            
            container.insertBefore(item, container.firstChild);
            
            // ä¿ç•™æœ€è¿‘10æ¢è¨˜éŒ„
            while (container.children.length > 10) {
                container.removeChild(container.lastChild);
            }
            
            commandCount++;
            document.getElementById('commandCount').textContent = commandCount;
            
            testResults.commandRecognition = true;
            updateTestProgress();
        }
        
        // ç²å–ç½®ä¿¡åº¦å¾½ç« 
        function getConfidenceBadge(confidence) {
            const percent = Math.round(confidence * 100);
            const level = percent >= 80 ? 'high' : percent >= 60 ? 'medium' : 'low';
            return `<span class="confidence-badge ${level}">${percent}%</span>`;
        }
        
        // æ›´æ–°æ”¯æŒç‹€æ…‹
        function updateSupportStatus(supported) {
            const element = document.getElementById('supportStatus');
            element.textContent = supported ? 'âœ… æ”¯æŒ' : 'âŒ ä¸æ”¯æŒ';
            element.className = `status-value ${supported ? 'supported' : 'not-supported'}`;
        }
        
        // æ›´æ–°æ¬Šé™ç‹€æ…‹
        function updatePermissionStatus(hasPermission) {
            const element = document.getElementById('permissionStatus');
            element.textContent = hasPermission ? 'âœ… å·²æˆæ¬Š' : 'âŒ æœªæˆæ¬Š';
            element.className = `status-value ${hasPermission ? 'supported' : 'not-supported'}`;
        }
        
        // æ›´æ–°è­˜åˆ¥æŒ‰éˆ•
        function updateRecognitionButton(isListening) {
            const button = document.getElementById('startBtn');
            const status = document.getElementById('listeningStatus');
            
            if (isListening) {
                button.textContent = 'ğŸ›‘ åœæ­¢è­˜åˆ¥';
                button.className = 'btn btn-danger listening';
                status.textContent = 'ğŸ‘‚ ç›£è½ä¸­';
                status.className = 'status-value listening';
                document.getElementById('audioLevelContainer').style.display = 'block';
            } else {
                button.textContent = 'ğŸ¤ é–‹å§‹è­˜åˆ¥';
                button.className = 'btn btn-primary';
                status.textContent = 'ğŸ”‡ æœªç›£è½';
                status.className = 'status-value';
                document.getElementById('audioLevelContainer').style.display = 'none';
            }
        }
        
        // æ¨¡æ“¬éŸ³é »é›»å¹³
        function simulateAudioLevel() {
            const interval = setInterval(() => {
                if (speechManager.isListening) {
                    const level = Math.random() * 100;
                    document.getElementById('audioLevelFill').style.width = `${level}%`;
                } else {
                    clearInterval(interval);
                    document.getElementById('audioLevelFill').style.width = '0%';
                }
            }, 100);
        }
        
        // é¡¯ç¤ºèªéŸ³æ³¢å½¢
        function showVoiceWave(show) {
            const container = document.getElementById('voiceWaveContainer');
            container.style.display = show ? 'block' : 'none';
        }
        
        // æ›´æ–°æ¸¬è©¦é€²åº¦
        function updateTestProgress() {
            const passed = Object.values(testResults).filter(Boolean).length;
            const total = Object.keys(testResults).length;
            const percentage = total > 0 ? (passed / total) * 100 : 0;
            
            // æ›´æ–°é€²åº¦ç’°
            const progressCircle = document.getElementById('progressCircle');
            const circumference = 2 * Math.PI * 25;
            const offset = circumference - (percentage / 100) * circumference;
            progressCircle.style.strokeDashoffset = offset;
            
            // æ›´æ–°é€²åº¦æ–‡æœ¬
            document.getElementById('testProgress').textContent = `${passed}/${total} é€šé`;
            
            // æ›´æ–°æ¸¬è©¦åœ–æ¨™
            updateTestIcon('basicIcon', testResults.basicRecognition);
            updateTestIcon('commandIcon', testResults.commandRecognition);
            updateTestIcon('timerIcon', testResults.timerControl);
            updateTestIcon('environmentIcon', testResults.environmentalTest);
        }
        
        // æ›´æ–°æ¸¬è©¦åœ–æ¨™
        function updateTestIcon(iconId, passed) {
            const icon = document.getElementById(iconId);
            icon.className = `result-icon ${passed ? 'pass' : 'pending'}`;
            icon.textContent = passed ? 'âœ“' : '?';
        }
        
        // æ¸…é™¤çµæœ
        function clearResults() {
            const container = document.getElementById('recognitionResults');
            container.innerHTML = '<div style="text-align: center; color: #666; padding: 20px;">é»æ“Š"é–‹å§‹è­˜åˆ¥"ä¸¦èªªå‡ºä»»ä½•è©±èª</div>';
        }
        
        // æ¸…é™¤å‘½ä»¤
        function clearCommands() {
            const container = document.getElementById('commandResults');
            container.innerHTML = '<div style="text-align: center; color: #666; padding: 20px;">èªªå‡ºèªéŸ³å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š"é–‹å§‹è¨ˆæ™‚" æˆ– "è¨­ç½®30ç§’"</div>';
            commandCount = 0;
            document.getElementById('commandCount').textContent = '0';
        }
        
        // é¡¯ç¤ºå¹«åŠ©
        function showHelp() {
            document.getElementById('helpModal').classList.add('active');
        }
        
        // é—œé–‰å¹«åŠ©
        function closeHelp() {
            document.getElementById('helpModal').classList.remove('active');
        }
        
        // é¡¯ç¤ºæˆåŠŸæ¶ˆæ¯
        function showSuccess(message) {
            console.log(`âœ… ${message}`);
            // å¯ä»¥æ·»åŠ toasté€šçŸ¥
        }
        
        // é¡¯ç¤ºéŒ¯èª¤æ¶ˆæ¯
        function showError(message) {
            console.error(`âŒ ${message}`);
            // å¯ä»¥æ·»åŠ toasté€šçŸ¥
        }
        
        // è¨˜éŒ„æ—¥èªŒ
        function log(message) {
            const timestamp = new Date().toLocaleTimeString();
            console.log(`[${timestamp}] ${message}`);
        }
        
        // é»æ“Šæ¨¡æ…‹æ¡†èƒŒæ™¯é—œé–‰
        document.getElementById('helpModal').addEventListener('click', (e) => {
            if (e.target.id === 'helpModal') {
                closeHelp();
            }
        });
        
        // ESCéµé—œé–‰æ¨¡æ…‹æ¡†
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeHelp();
            }
        });
    </script>
</body>
</html>


